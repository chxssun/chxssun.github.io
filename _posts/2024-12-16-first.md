---
layout: post
title:  "인증 서버와 주요 인증 기술: OAuth 2.0, OIDC, SAML, JWT의 이해"
---

# 1. 인증 서버 개념과 작동 원리

## 인증 서버란?
- 사용자가 본인임을 증명하는 시스템.
- 웹사이트나 앱에서 아이디와 비밀번호를 확인하고 인증을 수행.

## 인증 서버의 필요성
1. **보안 강화**: 민감한 정보를 안전하게 관리.
2. **권한 관리**: 사용자의 기능 접근 권한을 제어.
3. **편리함 제공**: 한 번 로그인으로 여러 서비스에 접근 가능 (SSO).

## 인증과 인가의 차이
- **인증**: 사용자가 누구인지 확인. (e.g., 이메일/비밀번호 로그인)
- **인가**: 사용자가 어떤 권한이 있는지 확인. (e.g., 특정 데이터 접근 권한)

## 인증 서버 작동 원리
1. **로그인 요청**: 사용자 입력 정보 확인.
2. **정보 확인**: 일치하면 인증 성공, **토큰(Token)** 발급.
3. **토큰 사용**: 인증된 사용자를 증명하는 디지털 키로 활용.
4. **권한 검사**: 요청된 기능에 대한 접근 권한 확인.

---

# 2. OAuth 2.0과 OpenID Connect (OIDC)

## OAuth 2.0
- OAuth 2.0은 사용자의 비밀번호를 노출하지 않고 **안전하게 데이터를 공유**할 수 있도록 설계된 인증 방식입니다. 
- 이를 통해 앱이나 서비스는 사용자의 데이터를 안전하게 접근하거나 사용할 수 있습니다.
- 예를 들어, "구글로 로그인" 버튼을 클릭하면 사용자의 구글 계정 정보를 활용해 앱에서 필요한 권한만 받아갑니다.

### 주요 아이디어
1. **클라이언트 앱이 인증 서버에 요청**  
   클라이언트 앱(예: 쇼핑몰 앱)이 인증 서버(예: 구글)에 사용자의 인증을 요청합니다.
2. **사용자 인증 수행**  
   인증 서버는 사용자가 로그인 화면에서 이메일과 비밀번호를 입력해 본인임을 인증합니다.
3. **토큰 발급**  
   인증 서버는 사용자 인증 후, 앱에 **Access Token**과 같은 토큰을 발급합니다.
4. **데이터 접근**  
   앱은 발급받은 토큰을 사용해 인증 서버에서 사용자 데이터를 안전하게 접근합니다.  
   이 과정에서 토큰은 권한 범위(scope), 유효 시간 등이 설정됩니다.

### 장점
1. **보안성 강화**  
   사용자는 비밀번호를 앱에 직접 제공하지 않고, 인증 서버를 통해서만 인증이 이루어집니다.
2. **권한 제어 가능**  
   사용자는 "필요한 데이터만 공유"할 수 있도록 권한 범위를 설정할 수 있습니다.  
   예: 이메일 주소만 제공, 혹은 이름과 프로필 사진만 제공.
3. **확장성**  
   하나의 OAuth 인증 서버를 여러 앱이나 서비스에서 사용할 수 있습니다.  
   예: 구글 계정으로 여러 앱에 로그인.

---

## OpenID Connect (OIDC)
- OIDC는 OAuth 2.0에 **사용자의 정보를 확인**하는 기능을 추가한 인증 프로토콜입니다.
- OAuth 2.0이 토큰을 발급해 인증을 처리하는 데 중점을 둔다면, OIDC는 사용자 정보를 포함해 "누가 로그인했는지"를 알려줍니다.
- 예를 들어, 이름, 이메일, 프로필 사진 같은 기본 정보를 앱에서 쉽게 받을 수 있습니다.

### OIDC의 구성 요소
1. **ID Token**  
   사용자 정보를 포함한 토큰으로, 인증된 사용자가 누구인지 알려줍니다.  
   예: 사용자 이름, 이메일 주소 등이 포함됩니다.
2. **UserInfo Endpoint**  
   추가 사용자 정보를 얻기 위해 호출할 수 있는 API입니다.
3. **표준화된 데이터 포맷**  
   JSON을 기반으로 사용자 정보가 제공되며, 쉽게 이해하고 처리할 수 있습니다.

---

## OAuth 2.0 Authorization Code Flow
- OAuth 2.0에서 가장 일반적으로 사용되는 플로우입니다.
- 특히 클라이언트 앱(예: 모바일 앱)에서 인증 서버와 직접 통신할 수 없는 경우에 사용됩니다.

### 작동 과정
1. **사용자 인증 요청**  
   사용자가 앱에서 "구글로 로그인" 버튼을 클릭하면, 앱은 인증 서버로 인증 요청을 보냅니다.
2. **사용자 인증 수행**  
   인증 서버가 사용자에게 로그인 화면을 표시하고, 사용자가 이메일과 비밀번호를 입력해 본인 인증을 완료합니다.
3. **Authorization Code 발급**  
   인증 서버는 인증 성공 시 클라이언트 앱에 **Authorization Code**를 전달합니다.
4. **Access Token 요청**  
   클라이언트 앱은 인증 코드를 인증 서버에 보내고 **Access Token**과 **ID Token**을 발급받습니다.
5. **데이터 접근**  
   클라이언트 앱은 발급받은 Access Token을 사용해 인증 서버에서 사용자 데이터를 안전하게 요청하고 활용합니다.

---

# 3. 주요 인증 기술 및 표준

## SAML (Security Assertion Markup Language)
SAML은 주로 기업에서 사용하는 인증 기술로, 한 번의 로그인으로 여러 시스템에 접근할 수 있는 SSO(Single Sign-On)를 지원한다.  
사용자가 로그인하면 SAML은 인증 정보를 다른 시스템에 전달해 사용자 확인을 돕는 역할을 한다.  
이를 통해 사용자는 시스템마다 별도로 로그인할 필요 없이 하나의 인증으로 모든 시스템에 접근할 수 있다.

---

## JWT (JSON Web Token)
JWT는 인증 정보를 담은 디지털 토큰이다.  
JSON 형식으로 정보를 저장하며, 서명을 포함하고 있어 변조가 불가능하다.  
JWT는 사용자의 인증 정보를 안전하게 주고받기 위한 수단으로 많이 사용된다.  
로그인 후 서버는 JWT를 생성해 사용자에게 전달하고, 이후 사용자는 이 토큰을 활용해 본인이 인증된 사용자임을 증명할 수 있다.

---

## LDAP (Lightweight Directory Access Protocol)
LDAP는 회사나 조직에서 사용하는 직원 데이터베이스를 관리하기 위한 프로토콜이다.  
사용자의 정보(이름, 이메일, 비밀번호, 권한 등)를 저장하고 인증 및 권한 관리를 담당한다.  
예를 들어, 사용자가 시스템에 로그인하면 LDAP 서버에서 사용자 정보를 확인해 인증 절차를 진행한다.  
이를 통해 사용자 접근 권한을 효율적으로 관리할 수 있다.

---

### 요약
- **SAML**: 하나의 로그인으로 여러 시스템에 접근 가능 (SSO).
- **JWT**: 인증 정보를 담은 JSON 기반의 변조 불가능한 디지털 토큰.
- **LDAP**: 사용자 인증 및 권한 관리를 위한 직원 데이터베이스 관리 프로토콜.

---


# 인증 기술 및 표준 정리



## 1. 인증 서버
### 인증 서버란?
- 사용자가 본인임을 증명하는 시스템.
- 웹사이트나 앱에서 아이디와 비밀번호를 확인하고 인증을 수행.

### 인증 서버의 필요성
1. **보안 강화**: 민감한 정보를 안전하게 관리.
2. **권한 관리**: 사용자별 기능 접근 권한을 제어.
3. **편리함 제공**: SSO(Single Sign-On)를 통해 한 번의 로그인으로 여러 서비스 이용 가능.

---

## 2. 인증과 인가
- **인증**: 사용자가 누구인지 확인하는 과정. (예: 이메일/비밀번호 로그인)
- **인가**: 사용자가 어떤 권한이 있는지 확인하는 과정. (예: 특정 데이터 접근 권한)

---

## 3. 주요 인증 기술

### SAML (Security Assertion Markup Language)
- 기업에서 주로 사용하는 인증 기술.
- 한 번 로그인으로 여러 시스템에 접근 가능 (SSO 지원).
- 인증 정보를 안전하게 전달해 사용자 확인을 돕는다.

---

### JWT (JSON Web Token)
- 인증 정보를 담은 디지털 토큰.
- JSON 형식으로 정보를 저장하며, 서명을 포함해 변조가 불가능하다.
- 로그인 후 서버에서 발급한 JWT를 통해 클라이언트와 서버 간 안전한 인증이 가능하다.

---

### LDAP (Lightweight Directory Access Protocol)
- 회사나 학교에서 사용자 정보를 관리하기 위한 프로토콜.
- 사용자 정보(이름, 이메일, 비밀번호, 권한 등)를 저장하고 인증 및 권한 관리를 담당.
- 효율적인 사용자 접근 권한 관리에 사용된다.

---

## 4. OAuth 2.0 & OpenID Connect (OIDC)

### OAuth 2.0
- 사용자의 비밀번호를 노출하지 않고 데이터를 안전하게 공유하기 위한 인증 방식.
- 예: "구글로 로그인" 버튼을 통해 앱이 필요한 권한만 요청하고 사용자 인증.

#### OAuth 2.0 작동 과정
1. 클라이언트 앱이 인증 서버에 인증 요청.
2. 인증 서버가 사용자 인증 후 **Access Token** 발급.
3. 클라이언트 앱이 토큰을 사용해 데이터 접근.

#### OAuth 2.0의 장점
- **보안 강화**: 비밀번호를 직접 앱에 제공하지 않음.
- **권한 제어**: 필요한 데이터만 공유 가능.
- **확장성**: 하나의 인증 서버로 여러 서비스에서 인증 가능.

---

### OpenID Connect (OIDC)
- OAuth 2.0에 사용자 정보를 확인하는 기능을 추가한 인증 프로토콜.
- 사용자 정보를 포함한 **ID Token** 발급.
- 표준화된 방식으로 사용자 정보(ID, 이름, 이메일 등) 제공.

---

## 요약
- **인증**: "너 누구야?" → 사용자를 확인.
- **인가**: "너 이거 할 수 있어?" → 권한을 확인.
- SAML, JWT, LDAP, OAuth 2.0, OIDC 등은 상황에 따라 사용되는 인증 도구.
